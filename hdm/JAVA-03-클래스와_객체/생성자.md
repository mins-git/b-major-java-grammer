# 생성자

- new 키워드와 함께 호출하여 객체 생성: 객체를 생성할 때 사용됨
- 클래스명과 동일함: 생성자는 클래스와 동일한 이름을 가짐
- 반환 타입이 없음: 생성자는 반환 타입을 가지지 않음
- 객체가 생성될 때 반드시 하나의 생성자 호출함 : 객체를 생성할 때 항상 하나의 생성자가 호출된다.
- 멤버 필드의 초기화: 생성자는 객체의 멤버 필드를 초기화하는데 주로 사용됨
- `기본 생성자의 자동 제공:` 클래스에 생성자가 하나도 정의되지 않으면 컴파일러가 자동으로 매개변수가 없는 기본 생성자 추가함.
    - `기본 생성자?`: 매개 변수가 없고 내용이 없는 생성자
- 생성자 오버로딩: 매개변수의 개수나 타입이 다른 여러 개의 생성자를 정의 할 수 있음.
- `this()를 사용한 생성자 호출:` 생성자의 첫 번째 라인에서 this()를 사용하여 같은 클래스의 다른 생성자 호출 가능


## 생성자의 특징
- 클래스 명과 이름이 동일(대.소문자)
- 반환타입이 없다.(void 작성x)

```java
public class Dog{
    public Dog(){
        System.out.println("기본 생성자!");
        System.out.println("클래스 이름과 동일하고 반환타입 없음!");
    }
}
```

- 기본 (디폴트) 생성자
```java
public class Dog{
    `public Dog(){}` : 생성자 없으면 자동으로 컴파일러가 옆과 같이 기본 생성자를 추가함
}
```

- 생성자는 오버로딩을 지원한다.

## this
- 참조 변수로써 현재 인스턴스 자기 자신을 가리킴(참조)
- this와 연산자를 이용하여 자신의 멤버 접근 가능함.
- `지역변수(매개변수)와 필드 이름이 동일한 경우 ` 필드임을 식별 할 수 있게함.(생성자에서 주로 활용됨.)
- 인스턴스에 대한 참조이므로 static 메서드 또는 static 블록에서 this 사용 불가함.
- 메서드 체이닝: 메서드에서 this를 반환해서 메서드 호출을 연쇄적으로 이어갈 수 있음.

- `this([생성자 매개변수들])를 호출하여 생성자 안에서 같은 클래스 내의 다른 생성자 호출가능
    - this()를 이용한 생성자 호출은 `반드시 생성자 내에서만 가능`
    - this() 구문을 생성자 안에서 사용할때는 `반드시 첫번째 줄에 위치`


### 메서드 체이닝?
- 자바에서 객체의 메서드를 연속적으로 호출할 수 있게 하는 프로그래밍 패턴
    - 이는 `메서드 호출의 반환 값이` `객체 자신`이 되어, `다시 그 객체의 메서드를 호출`할 수 있게 하는 방식으로 이루어짐
        - `결과적으로 한 줄에 여러 메서드를 체인처럼 연결하여 코드를 더 간결하고 직관적으로 작성할 수 있게 함`

```java
//person 클래스
class Person {
    private String name;
    private int age;

    public Person setName(String name) {
        this.name = name;
        return this;  // 현재 객체를 반환
    }

    public Person setAge(int age) {
        this.age = age;
        return this;  // 현재 객체를 반환
    }

    public void introduce() {
        System.out.println("안녕하세요, 제 이름은 " + name + "이고, 나이는 " + age + "살입니다.");
    }
}
// main 클래스
public class Main {
    public static void main(String[] args) {
        Person person = new Person();
        person.setName("미니").setAge(25).introduce();  // 메서드 체이닝
    }
}
```

#### 코드의 흐름
1. person.setName("미니").setAge(25)에서 setName()과 setAge() 메서드를 호출하면, 이 두 메서드가 this를 반환하기 때문에 같은 객체에 연속적으로 적용된다.
    - 1-1 person.setName("미니"): 이 호출은 setName() 메서드를 실행하고, name 필드에 "미니"을 저장한 후 this(즉, person 객체)를 반환한다.
2. setAge(25):
- 첫 번째 메서드가 반환한 this(즉, 여전히 person 객체)에 대해 setAge(25)를 호출한다.
    - setAge()는 age 필드에 25를 저장하고, 다시 this(여전히 같은 person 객체)를 반환한다.
- 이 과정에서 person 객체의 상태는 아래와 같이 변경 된다.

3. name은 "미니"으로 설정되고, age는 25로 설정된다.
4. 이후에 introduce() 메서드를 호출하면, 해당 메서드에서 name과 age가 이미 설정되어 있으므로, 그 값을 이용해 출력을 수행 하게 된다.
5. 따라서, 변수들이 각각 설정된 후 introduce() 메서드에서 이를 자동으로 사용할 수 있게 되는 것이다. 객체의 상태를 변경하는 메서드들이 모두 this를 반환하므로 가능한 패턴이다.

#### point
- 결과적으로 단점으로 디버깅의 어려움, 유지보수의 어려움이 있다.
- 메서드 체이닝은 객체의 상태를 설정하거나 빌더 패턴과 함께 자주 사용된다.


