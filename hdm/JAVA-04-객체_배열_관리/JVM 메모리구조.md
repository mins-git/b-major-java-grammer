# JVM 메모리 구조

- Java 언어는 메모리 관리를 개발자가 하지 않음: 메모리 관리는 JVM에 의해 자동 처리됨.
- GC(garbage collection): JVM은 가비지 컬렉터를 통해 자동으로 메모리를 관리, 사용되지 않는 객체를 메모리에서 해제함.

## jvm 메모리 영역
- 메서드 영역: 클래스의 메서드, 필드와 같은 클래스 관련 정보 저장
- 힙 영역: 모든 캑체와 배열 문자열 상수 풀이 저장
- 스택 영역: 메서드 호출 시마다 `프레임 생성`. `프레임 안에 로컬 변수, 메서드 호출 정보, 중간 연산 결과` 등이 저장됨. 메서드가 종료되면 해당 프레임이 자동으로 제거 된다.

## JVM 메모리 구조
- class 파일

- 메소드 영역: 클래스와 관련된 정보를 저장하는 영역(메서드의 바이트 코드 저장함)
- 힙: 인스턴스가 생성되는 공간
- 스택: 
    - 메서드 수행시 프레임이 할당됨.
    - 필요한
    - 필요한 변수나, 중간 결과 값을 임시 기억하는 곳임.
    - 메서드 종료시 할당 메모리 자동 제거함.

### 객체 생성과 메모리 할당.
- 메소드 영역:
    - person의 name, age와 같은 변수나 메서드와 같은 내용이 담김
    - main의 내용이 담김

- 힙 영역:
    - 참조값들이 들어가짐.

- 스택 영역:
    - 스택 안에 main에 내용들이 들어감.


## static의 특징
1. 로딩 시점:
    - static: 클래스 로딩시 생김
    - non-static: 객체 생성시
2. 메모리상의 차이
    - static: 클래스당 하나의 메모리 공간만 할당함
    - non-static : 인스턴스 당 메모리가 별도로 할당됨(인스턴스 변수, 상태)

3. 사용 목적:
    - static: `모든 인스턴스에 공통으로 사용`되는 메서드나 변수를 정의할 때 사용함
    - non-static: 객체마다 `개별로 관리되는 상태나 동작을 정의`할 때 사용함.

4. `사용방법` > 가장중요!
- static: 클래스 이름으로 접근 (객체 생성x)
- non-static: 객체(인스턴스) 생성 후 접근


5. `static 영역에서는 non-static 영역`을 직접 접근 `불가능`
- static은 설계도를 불러오는 시점에 이미 있음.
- non static은 객체 생성후 생김(나중에)

6. `non static 영역에서는 static영역에 대한 접근이 가능`
```java

    //main은 static 메서드임(설계도)
    public static void main(String[] args) {
        // static은 non static 접근 불가함.
        //name = "Kim";
    }

    // non static
    public void info(){
        pCount = 300; // non static에서는 static 접근이 가능하다.
    }

    // 결국 static은 non stitic으로 접근 불가하나, nonstatic은 static접근 가능.
```

7. 정적 초기화 블록
- 클래스가 로드될 때 한번 실행. 주로 정적 변수를 초기화 하는데 사용함.


## 패키지
- PC의 많은 파일을 관리하기 위해서 폴더를 이용함.
- 프로그램의 많은 클래스를 관리하기 위해서 패키지를 이용한다.

- 패키지는 클래스와 인터페이스를 모아두기 위한 이름, 공간임.
- 패키지의 구분은 . 연산자를 이용함
- 패키지의 이름은 시중에 나와있는 패키지와 구분되게 지어야함.
- 일반적으로 소속이나 `회사의 도메인`을 `사용`함.

### 패키지 예시
- com.ssafy.project_이름.module_이름 방식으로 작성.
    - 이제 codes패키지도 이와같이 작성해보기.


### 임포트
- 다른 패키지에 있는 클래스를 사용하기 위해서는 `import 과정`이 필요함
- PersonService.java에서 Person 클래스를 사용하기 위해서는 import 해야 한다.
- import를 선언 할 때는 import 키워드 위에 package이름과 클래스 이름을 모두 입력하거나 해당 패키지으 ㅣ모든 클래스를 포함할때는 *사용함 

#### 현재 내 패키기 주고는
- JVM > STATIC > PERSON > Person.java 클래스와 / PersonTest.java클래스가 있다.


### 캡슐화
- 객체의 속성과 행위를 하나로 묶고 실제 구현 내용 일부를 외부에 감추어 은닉 가능.